(function(){"use strict";function n(n){var t=String(n);return t.length===1&&(t="0"+t),t}Date.now||(Date.now=function(){return(new Date).getTime()});Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"});Date.prototype.toISODateString||(Date.prototype.toISODateString=function(){return this.setHours(0,-this.getTimezoneOffset(),0,0),this.toISOString().slice(0,10)});Date.fromISODateString||(Date.fromISODateString=function(n){var t=n.split("-"),i=1800,r=0,u=1;return t.length>2&&(i=Number(t[0]),r=Number(t[1])-1,u=Number(t[2])),new Date(i,r,u)})})(),function(n){"use strict";n.getFormData=function(n){var i=n.serializeArray(),t={};return $.each(i,function(){var n;n=this.value!=null?this.value:"";t[this.name]!=null?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(n)):t[this.name]=n}),t}}(nca),function(n){function d(n,r,u){var l=n[0],e=/er/.test(u)?s:/bl/.test(u)?f:t,h=u==nt?{checked:l[t],disabled:l[f],indeterminate:n.attr(s)=="true"||n.attr(w)=="false"}:l[e];if(/^(ch|di|in)/.test(u)&&!h)v(n,e);else if(/^(un|en|de)/.test(u)&&h)c(n,e);else if(u==nt)for(e in h)h[e]?v(n,e,!0):c(n,e,!0);else r&&u!="toggle"||(r||n[a]("ifClicked"),h?l[i]!==o&&c(n,e):v(n,e))}function v(l,a,v){var p=l[0],b=l.parent(),nt=a==t,tt=a==s,ot=a==f,ft=tt?w:nt?it:"enabled",st=u(l,ft+y(p[i])),ht=u(l,a+y(p[i])),rt,d;nt&&b.length>0&&b.hasClass(ut)&&b.removeClass(ut);p[a]!==!0&&(!v&&a==t&&p[i]==o&&p.name&&(rt=l.closest("form"),d='input[name="'+p.name+'"]',d=rt.length?rt.find(d):n(d),d.each(function(){this!==p&&n(this).data(r)&&c(n(this),a)})),tt?(p[a]=!0,p[t]&&c(l,t,"force")):(v||(p[a]=!0),nt&&p[s]&&c(l,s,!1)),et(l,nt,a,v));p[f]&&!!u(l,k,!0)&&b.find("."+g).css(k,"default");b[e](ht||u(l,a)||"");ot?b.attr("aria-disabled","true"):b.attr("aria-checked",tt?"mixed":"true");b[h](st||u(l,ft)||"")}function c(n,r,o){var c=n[0],l=n.parent(),v=r==t,p=r==s,b=r==f,a=p?w:v?it:"enabled",d=u(n,a+y(c[i])),nt=u(n,r+y(c[i]));c[r]!==!1&&((p||!o||o=="force")&&(c[r]=!1),et(n,v,a,o));c[f]||!u(n,k,!0)||l.find("."+g).css(k,"pointer");l[h](nt||u(n,r)||"");b?l.attr("aria-disabled","false"):l.attr("aria-checked","false");l[e](d||u(n,a)||"")}function ft(t,i){t.data(r)&&(t.parent().html(t.attr("style",t.data(r).s||"")),i&&t[a](i),t.off(".i").unwrap(),n(b+'[for="'+t[0].id+'"]').add(t.closest(b)).off(".i"))}function u(n,t,i){if(n.data(r))return n.data(r).o[t+(i?"":"Class")]}function y(n){return n.charAt(0).toUpperCase()+n.slice(1)}function et(n,t,i,r){r||(t&&n[a]("ifToggled"),n[a]("ifChanged")[a]("if"+y(i)))}var r="iCheck",g=r+"-helper",p="checkbox",o="radio",t="checked",it="un"+t,f="disabled",w="determinate",s="in"+w,nt="update",i="type",l="click",rt="touchbegin.i touchend.i",e="addClass",h="removeClass",a="trigger",b="label",k="cursor",tt=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),ut="error";n.fn[r]=function(u,y){var et='input[type="'+p+'"], input[type="'+o+'"]',k=n(),ht=function(t){t.each(function(){var t=n(this);k=t.is(et)?k.add(t):k.add(t.find(et))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(u))return u=u.toLowerCase(),ht(this),k.each(function(){var t=n(this);u=="destroy"?ft(t,"ifDestroyed"):d(t,!0,u);n.isFunction(y)&&y()});if(typeof u!="object"&&u)return this;var w=n.extend({checkedClass:t,disabledClass:f,indeterminateClass:s,labelHover:!0,aria:!0},u),ot=w.handle,ut=w.hoverClass||"hover",at=w.focusClass||"focus",ct=w.activeClass||"active",lt=!!w.labelHover,st=w.labelHoverClass||"hover",it=(""+w.increaseArea).replace("%","")|0;return(ot==p||ot==o)&&(et='input[type="'+ot+'"]'),it<-50&&(it=-50),ht(this),k.each(function(){var u=n(this);ft(u);var y=this,et=y.id,ot=-it+"%",ht=100+it*2+"%",vt={position:"absolute",top:ot,left:ot,display:"block",width:ht,height:ht,margin:0,padding:0,background:"#fff",border:0,opacity:0},wt=tt?{position:"absolute",visibility:"hidden"}:it?vt:{position:"absolute",opacity:0},bt=y[i]==p?w.checkboxClass||"i"+p:w.radioClass||"i"+o,k=n(b+'[for="'+et+'"]').add(u.closest(b)),yt=!!w.aria,kt=r+"-"+Math.random().toString(36).substr(2,6),s='<div class="'+bt+'" '+(yt?'role="'+y[i]+'" ':""),pt;if(yt&&u.attr("aria-label")!=undefined&&(s+='aria-label="'+u.attr("aria-label")+'" '),s=u.wrap(s+"/>")[a]("ifCreated").parent().append(w.insert),pt=n('<ins class="'+g+'"/>').css(vt).appendTo(s),u.data(r,{o:w,s:u.attr("style")}).css(wt),!w.inheritClass||s[e](y.className||""),!!w.inheritID&&et&&s.attr("id",r+"-"+et),s.css("position")=="static"&&s.css("position","relative"),d(u,!0,nt),k.length)k.on(l+".i mouseover.i mouseout.i "+rt,function(t){var r=t[i],o=n(this);if(!y[f]){if(r==l){if(n(t.target).is("a"))return;d(u,!1,!0)}else lt&&(/ut|nd/.test(r)?(s[h](ut),o[h](st)):(s[e](ut),o[e](st)));if(tt)t.stopPropagation();else return!1}});u.on(l+".i focus.i blur.i keyup.i keydown.i keypress.i",function(r){var f=r[i],a=r.keyCode,p=n(r.target);if(f==l)return!1;if(f=="keydown"&&(a==32||a==13)){if(y[i]==o&&y[t]||(y[t]?c(u,t):v(u,t)),p.length>0&&!p.hasClass("clear"))return!1}else f=="keyup"&&y[i]==o?y[t]||v(u,t):/us|ur/.test(f)&&s[f=="blur"?h:e](at)});pt.on(l+" mousedown mouseup mouseover mouseout "+rt,function(n){var t=n[i],r=/wn|up/.test(t)?ct:ut;if(!y[f])if(t==l?d(u,!1,!0):(/wn|er|in/.test(t)?s[e](r):s[h](r+" "+ct),k.length&&lt&&r==ut&&k[/ut|nd/.test(t)?h:e](st)),tt)n.stopPropagation();else return!1})})}}(window.jQuery||window.Zepto),function(n,t){"use strict";n.Class.accordion=function(){var n=this;return n.actionButtonClass="",n.actionButtonImageClassUp="",n.actionButtonImageClassDown="",n.contentBodyClass="",n.accordionUrl="",n.currentTarget=null,n.onReady=function(){var i=t("."+n.actionButtonClass);i.on("click",n.update)},n.update=function(i){var u=t(i.currentTarget),r=u.find("span"),f=u.parent().find("."+n.contentBodyClass),o,e;n.currentTarget=u;o=t(f).is(":hidden");e={duration:"fast",progress:n.affixCheckPosition,complete:n.complete(o)};r.hasClass(n.actionButtonImageClassDown)?(f.slideToggle(e),r.removeClass(n.actionButtonImageClassDown),r.addClass(n.actionButtonImageClassUp)):(f.slideToggle(e),r.removeClass(n.actionButtonImageClassUp),r.addClass(n.actionButtonImageClassDown))},n.complete=function(i){t.ajax({url:n.accordionUrl,data:{o:i},type:"GET"})},n.affixCheckPosition=function(){var t=n.currentTarget,i;t&&t.length&&(i=t.parent(),i.data("bs.affix")&&i.affix("checkPosition"))},n}}(nca,jQuery),function(n){"use strict";n.Class.resource=function(){var n=this;return n.cache={},n.inProgress=!1,n.set=function(t,i){t&&i&&(n.cache[t]=i)},n.get=function(t){return t?n.cache[t]:{}},n}}(nca,jQuery),function(n,t){"use strict";n.Class.formSubmit=function(){var i=this;return i.buttonId="",i.button={},i.backButtonId="",i.backButton={},i.selectFormId="",i.selectForm={},i.submitFormId="",i.submitForm={},i.actionUrl="",i.customBackUrl="",i.showPageModalId="",i.showPageModal={},i.checkAddOnPanels=!1,i.hasCompleteFares=!1,i.otherSubmitEventsPresent=!1,i.departFlightClass="departFlightClick",i.departFlight={},i.returnFlightClass="returnFlightClick",i.returnFlight={},i.invalidReturnFlightError="",i.hasOverlappingflights=!1,i.hasSeatChange=!1,i.hasNoMeals=!1,i.hasOldMeals=!1,i.marketCount=0,i.hasNoAddonsModal=!0,i.phTravelTaxOffered=!1,i.isMBFlow=!1,i.hasDisabledTrip=!1,i.mbBackBtnId="",i.mbBackBtn={},i.mbBackUrl="",i.addOnsMenuSelector="",i.addOnsAddedClass="",i.addOnsIncludedClass="",i.isShouldStopAddonsModal=!1,i.addOnsMenu=[],i.isCancelFlight=!1,i.modalId="",i.modalTriggerId="",i.modal=[],i.modalTrigger=[],i.hasNonGoShowJourney=!0,i.hasJourneyWithinCutOff=!0,i.onReady=function(){if(i.buttonId!=""){i.button=t("#"+i.buttonId);i.button.on("click",i.submit)}if(i.backButtonId!=""){i.backButton=t("#"+i.backButtonId);i.backButton.on("click",i.back)}if(i.mbBackBtnId!=""){i.mbBackBtn=t("#"+i.mbBackBtnId);i.mbBackBtn.on("click",i.mbBack)}i.selectFormId&&(i.selectForm=t("#"+i.selectFormId));i.submitFormId&&(i.submitForm=t("#"+i.submitFormId));i.showPageModalId!=""&&(i.showPageModal=t("#"+i.showPageModalId));i.addOnsMenuSelector&&(i.addOnsMenu=t(i.addOnsMenuSelector));i.modalId&&(i.modal=t(".modal").filter("#"+i.modalId));i.modalTriggerId&&(i.modalTrigger=t("#"+i.modalTriggerId));i.departFlight=t("."+i.departFlightClass);i.returnFlight=t("."+i.returnFlightClass);i.otherSubmitEventsPresent;n.EventBus.subscribe("formSubmit",i.submit);n.EventBus.subscribe("select/completeFares",i.setHasCompleteFares);n.EventBus.subscribe("formSubmit/hasOverlappingFlights",i.checkIfOverlappingFlights);n.EventBus.subscribe("formSubmit/seatChangeFalse",i.setSeatChangeToFalse);n.EventBus.subscribe("formSubmit/seatChangeTrue",i.setSeatChangeToTrue);n.EventBus.subscribe("formSubmit/setNoMealsValue",i.setNoMealsValue);n.EventBus.subscribe("formSubmit/setOldMealsValue",i.setOldMealsValue);n.EventBus.subscribe("formSubmit/addOnsModalFalse",i.setNoAddonsModalToFalse);n.EventBus.subscribe("formSubmit/addOnsStopModal",i.setAddOnsStopModalToTrue);n.EventBus.subscribe("formSubmit/setCancelFlightValue",i.setCancelFlightValue);n.EventBus.publish("mealAddOns/checkAndSetNoMealsValue");n.EventBus.publish("mealAddOns/checkAndSetOldMealsValue")},i.submit=function(){var r,u;if(i.hasNoMeals&&i.hasNonGoShowJourney&&i.hasJourneyWithinCutOff)return n.EventBus.publish("mealAddOns/Confirmation",t(this)),!1;if(i.isMBFlow&&i.hasOldMeals)return n.EventBus.publish("mealAddOns/oldMealConfirmation",t(this)),!1;if(i.hasSeatChange)return n.EventBus.publish("SeatMap/Confirmation",t(this)),!1;if(i.isNoAddOnsNoticeShouldBeShown())return n.EventBus.publish("addOns/proceed"),!1;if(i.phTravelTaxOffered)return n.EventBus.publish("phTravelTax/showModal"),!1;if(i.isCancelFlight)return n.EventBus.publish("cancelFlight/showModal",t(this)),!1;if(i.hasOverlappingflights==!1)if(i.selectForm.length!=undefined&&i.selectForm.length>0&&i.actionUrl==="")n.EventBus.publish("removeUnloadConfirm"),i.selectForm.validate(),r=i.selectForm.valid(),i.checkIfUserSelectedFlights(),r&&i.hasCompleteFares?(i.selectForm.find(".error").removeClass("error"),i.verifyFlights()&&(i.selectForm.submit(),n.EventBus.publish("sessionTracking/reset"),n.EventBus.publish("page/wait"))):i.showPageModalId!=""&&i.showPageModal.modal({backdrop:"static"}).modal("show");else if(i.submitForm.length!=undefined&&i.submitForm.length>0&&i.actionUrl===""){if(n.EventBus.publish("removeUnloadConfirm"),r=i.submitForm.valid(),r){if(i.modalId&&i.modal&&!i.modal.is(":visible"))return i.modalTrigger.trigger("click"),!1;u=function(){if(i.submitForm.valid()){n.EventBus.publish("sessionTracking/reset");n.EventBus.publish("page/wait");return}};i.submitForm.bind("submit",u).submit().unbind("submit",u)}}else n.EventBus.publish("removeUnloadConfirm"),n.EventBus.publish("sessionTracking/reset"),n.EventBus.publish("page/wait"),i.actionUrl!==""&&(window.location=i.actionUrl);else i.displayInvalidReturnFlightError()},i.back=function(){return n.EventBus.publish("sessionTracking/reset"),i.customBackUrl?window.location=i.customBackUrl:parent.history.back(),!1},i.mbBack=function(){return n.EventBus.publish("sessionTracking/reset"),i.mbBackUrl!==""?(window.location=i.mbBackUrl,!1):void 0},i.isNoAddOnsNoticeShouldBeShown=function(){return!i.isShouldStopAddonsModal&&i.hasNoSelectedAddOns()},i.hasNoSelectedAddOns=function(){return i.addOnsMenu.length==0?!1:i.addOnsMenu.find(i.addOnsAddedClass+":not(.hide)").length<=0&&i.addOnsMenu.find(i.addOnsIncludedClass+":not(.hide)").length<=0},i.checkIfUserSelectedFlights=function(){i.marketCount===1?(i.departFlight.is(":checked")||i.returnFlight.is(":checked"))&&i.setHasCompleteFares():i.marketCount>1&&(i.departFlight.is(":checked")&&i.returnFlight.is(":checked")&&i.setHasCompleteFares(),i.isMBFlow&&i.hasDisabledTrip&&(i.departFlight.length>0&&i.departFlight.is(":visible")&&i.departFlight.is(":checked")&&i.setHasCompleteFares(),i.returnFlight.length>0&&i.returnFlight.is(":visible")&&i.returnFlight.is(":checked")&&i.setHasCompleteFares()))},i.setHasCompleteFares=function(){i.hasCompleteFares=!0},i.verifyFlights=function(){var u=t("."+i.departFlightClass+":checked"),f=t("."+i.returnFlightClass+":checked"),n,r;return u.length==1&&f.length==1&&(n=new Date(u.data("departingtime")),r=new Date(f.data("departingtime")),!isNaN(n)&&!isNaN(r)&&r<=n)?(i.displayInvalidReturnFlightError(),!1):!0},i.displayInvalidReturnFlightError=function(){alert(i.invalidReturnFlightError)},i.checkIfOverlappingFlights=function(n){i.hasOverlappingflights=n},i.isMobileView=function(){return t("body").hasClass("mobile")?!0:!1},i.setSeatChangeToTrue=function(){i.hasSeatChange=!0},i.setSeatChangeToFalse=function(){i.hasSeatChange=!1},i.setNoMealsValue=function(n){typeof n=="boolean"&&(i.hasNoMeals=n)},i.setOldMealsValue=function(n){typeof n=="boolean"&&(i.hasOldMeals=n)},i.setNoAddonsModalToFalse=function(){i.hasNoAddonsModal=!1},i.setAddOnsStopModalToTrue=function(){i.isShouldStopAddonsModal=!0},i.setCancelFlightValue=function(n){typeof n=="boolean"&&(i.isCancelFlight=n)},i}}(nca,jQuery),function(n,t){"use strict";n.Class.formSubmitProxy=function(){var i=this;return i.proxyContinueButtonId="",i.continueButtonId="",i.onReady=function(){if(i.proxyContinueButtonId&&i.continueButtonId){var r=t("#"+i.proxyContinueButtonId),u=t("#"+i.continueButtonId);r.on("click",function(){return n.EventBus.publish("sessionTracking/reset"),u.trigger("click"),!1})}},i}}(nca,jQuery),function(n,t){"use strict";n.Class.combineThreeSplitDate=function(){var i=this;return i.dayDropdownId="",i.monthDropdownId="",i.yearDropdownId="",i.hiddenId="",i.formContainerId="",i.selectPickerClass="",i.formContainer={},i.selectPicker={},i.dayDropdown={},i.monthDropdown={},i.yearDropdown={},i.populateDropDownsFromHidden=!1,i.hidden={},i.autoAddValidation=!1,i.refreshSelectPicker=!1,i.fullDate="",i.travellingDatePickerClass="travellingDatePicker",i.isMobileView=!1,i.disableIfHasValue=!1,i.disableClass="ui-state-disabled",i.paxNumber=0,i.onReady=function(){var u="",r;i.dayDropdown=t("#"+i.dayDropdownId);i.monthDropdown=t("#"+i.monthDropdownId);i.yearDropdown=t("#"+i.yearDropdownId);i.hidden=t("#"+i.hiddenId);i.formContainer=t("#"+i.formContainerId);i.fullDate!=""&&i.hidden.val(i.fullDate);u=i.hidden.val();i.isMobileView=t("body").hasClass("mobile");n.EventBus.unsubscribe("dynamicHtmlInserted");n.EventBus.subscribe("dynamicHtmlInserted",i.onReady);n.EventBus.subscribe("iamTraveller/checked",i.populateDropDowns);i.populateDropDownsFromHidden&&u&&i.autoPopulateDropdowns(u);i.autoAddValidation&&i.addValidation();r="selectmenuchange";i.isMobileView&&(r="change.update");i.dayDropdown.off(r).on(r,i.update);i.monthDropdown.off(r).on(r,i.update);i.yearDropdown.off(r).on(r,i.update);t(window).on("load keydown",i.updateTabIndex)},i.updateTabIndex=function(){if(i.disableClass.length>0){var n=t("."+i.disableClass);n.length>0&&n.attr("tabindex",0)}},i.populateDropDowns=function(){i.hidden!=null&&(i.hidden.val()!=""?i.autoPopulateDropdowns(i.hidden.val()):i.clearDateDropdownsValues(!0))},i.autoPopulateDropdowns=function(t){var u=null,r=null,f=null;t!=""?r=t.split("-"):i.clearDateDropdownsValues(!1);r&&r.length===3&&(u=new Date(r[0],r[1]-1,r[2]),i.yearDropdown.val(u.getFullYear()),f=i.yearDropdown.val(),f?(i.dayDropdown.val(u.getDate()),i.monthDropdown.val(u.getMonth()+1),i.disableIfHasValue&&i.disableDropDowns()):i.yearDropdown.val(""));i.refreshSelectPicker&&(i.refreshDatePicker(!1),n.EventBus.publish("iamTraveller/refreshDate"))},i.disableDropDowns=function(){i.yearDropdown.prop("disabled",!0).trigger("change");i.monthDropdown.prop("disabled",!0).trigger("change");i.dayDropdown.prop("disabled",!0).trigger("change")},i.clearDateDropdownsValues=function(n){i.yearDropdown.val("");i.monthDropdown.val("");i.dayDropdown.val("");i.refreshDatePicker(n)},i.refreshDatePicker=function(n){i.refreshSelectPicker&&(i.selectPicker=n?i.formContainer.find("."+i.travellingDatePickerClass):i.formContainer.find("."+i.selectPickerClass),i.selectPicker.data("uiSelectmenu")!=null&&t.isFunction(t.fn.selectmenu)&&i.selectPicker.selectmenu("destroy").selectmenu({style:"dropdown"}))},i.update=function(r){var f=i.yearDropdown.val(),u=i.monthDropdown.val(),e=i.dayDropdown.val(),o=null,s;r.target.id!=i.dayDropdownId&&(i.isMobileView?(i.dayDropdown.find("option").show(),o=i.dayDropdown):(i.dayDropdown.selectmenu("refresh"),o=t(i.dayDropdown.selector+"-menu")),u==2?f&&(f%4==0&&f%100!=0||f%400==0)?i.showValidDays(e,29,-2,o):i.showValidDays(e,28,-3,o):(u==4||u==6||u==9||u==11)&&i.showValidDays(e,30,-1,o));f&&u&&e&&(s=new Date(f,u-1,e,0,0,0),i.hidden.val(s.toISODateString()),i.hidden.trigger("change"),n.EventBus.publish("computeAgeAndNationality/completeDob",i.hidden))},i.showValidDays=function(n,t,r,u){n>t&&(i.dayDropdown.val(t),i.isMobileView||i.dayDropdown.selectmenu("refresh"));u!=null&&(i.isMobileView?u.find("option").slice(r).hide():u.find("li").slice(r).remove())},i.addValidation=function(){i.dayDropdown.rules("add",{required:!0});i.monthDropdown.rules("add",{required:!0});i.yearDropdown.rules("add",{required:!0})},i}}(nca,jQuery),function(n,t){"use strict";n.Class.combineAllThreeSplitDates=function(){var i=this,r,u;return i.containerSelector=".threeSplitDates",i.onReady=function(){t("body").on("change",i.containerSelector+" select",i.update);i.populateDropDownsFromHidden();n.EventBus.subscribe("dynamicHtmlInserted",i.populateDropDownsFromHidden)},r=function(n){var f=t(n).closest(i.containerSelector),r={},e,u;return r.$year=f.find("[data-DateType=year]").first(),r.$month=f.find("[data-DateType=month]").first(),r.$day=f.find("[data-DateType=day]").first(),r.year=r.$year.val(),r.month=r.$month.val()-1,r.day=r.$day.val(),r.valid=r.year&&r.month+1&&r.day,r.valid&&(r.date=new Date(r.year,r.month,r.day,0,0,0)),r.$hidden=f.find("[data-DateType=date]"),e=r.$hidden.first().val(),u=e.split("-"),u.length===3&&(r.hiddenDate=new Date(u[0]*1,u[1]*1-1,u[2]*1,0,0,0)),r},u=function(){var n=r(this);n.hiddenDate&&(n.$year.val(n.hiddenDate.getFullYear()),n.$day.val(n.hiddenDate.getDate()),n.$month.val(n.hiddenDate.getMonth()+1))},i.populateDropDownsFromHidden=function(){t(i.containerSelector).filter("[data-DatePopulate=true]").each(u)},i.update=function(){var n=r(this);n.date&&(n.$hidden.val(n.date.toISODateString()),n.$hidden.trigger("change"))},i}}(nca,jQuery),function(n,t){"use strict";n.Class.backButton=function(){var n=this;return n.backButtonId="",n.backButton={},n.onReady=function(){n.backButton=t("#"+n.backButtonId);n.backButton.on("click",n.goBack)},n.goBack=function(){history.back()},n}}(nca,jQuery),function(n,t){"use strict";n.Class.CalendarAndLowFareSelectSwitcher=function(){var n=this;return n.switchViewButtonId="",n.switchViewButton={},n.origin="",n.destination="",n.departureDate="",n.returnDate="",n.isRoundTrip=!1,n.infantCount=0,n.searchByCalendar=!1,n.searchByLowFare=!1,n.baseUrl="",n.onReady=function(){n.registerUiElements();n.setupEvents()},n.registerUiElements=function(){n.switchViewButton=n.selectId(n.switchViewButtonId)},n.setupEvents=function(){if(n.switchViewButton)n.switchViewButton.on("click",n.switchView)},n.selectId=function(n){return n.indexOf("#",0)===-1&&(n="#"+n),t(n)},n.switchView=function(){window.location.href=n.formUrl(n.baseUrl,n.origin,n.destination,n.departureDate,n.returnDate,n.searchByLowFare,n.searchByCalendar,n.isRoundTrip,n.infantCount)},n.formUrl=function(n,t,i,r,u,f,e,o,s){var l=n+"?",c="0001-01-01",h=[];return t&&h.push("o1="+t),i&&h.push("d1="+i),r&&r!==c&&h.push("dd1="+r),u&&u!==c&&h.push("dd2="+u),typeof e!="undefined"&&f===!0?h.push("c=true"):h.push("c=false"),typeof f!="undefined"&&e===!0?h.push("s=true"):h.push("s=false"),o&&h.push("r="+o),s&&h.push("inl="+s),l+h.join("&")},n.prepareUrlForQuerystring=function(n){return n.lastIndexOf("?")!==n.length-1&&(n+="?"),n},n}}(nca,jQuery),function(n,t){"use strict";n.Class.pricedisplayModal=function(){var i=this;return i.showModalButtonId="",i.showModalButton=null,i.priceItineraryContainerId="",i.priceItineraryContent=null,i.priceItineraryModalId="",i.priceItineraryModal=null,i.showTaxesFeesModalButtonClass="",i.showTaxesFeesModalButton=null,i.taxesfeeBreakdownModalId="",i.taxesfeeBreakdownModal=null,i.journeyFareContainerClass="",i.toggleBarsClass="",i.toggleContainersClass="",i.hideBarClass="",i.openBarClass="",i.accordionUrl="",i.onReady=function(){if(i.showModalButton=t("#"+i.showModalButtonId),i.priceItineraryModal=t("#"+i.priceItineraryModalId),i.priceItineraryContent=t("#"+i.priceItineraryContainerId),i.taxesfeeBreakdownModal=t("#"+i.taxesfeeBreakdownModalId),i.showTaxesFeesModalButton="."+i.showTaxesFeesModalButtonClass,!i.priceItineraryModal.data("bs.modal")){i.priceItineraryModal.modal({show:!1});i.showModalButton.on("click",i.modalToggle);i.priceItineraryModal.on("show.bs.modal",i.updatePricedisplayModal);i.priceItineraryModal.on("hide.bs.modal",i.closePricedisplayModal);t(window).on("resize.bs",i.checkPricedisplayIfHidden)}i.initalizePromoCodeValidationForm()},i.modalToggle=function(){i.priceItineraryModal.modal("toggle")},i.closePricedisplayModal=function(){var n=i.priceItineraryContent},i.updatePricedisplayModal=function(){var n=i.priceItineraryContent,t=n.html();i.priceItineraryModal.find(".modal-body").html("").html(t);i.priceItineraryModal.find(":hidden").show();i.initializeTaxesFeesBreakdown();i.initializeBookSummaryFareCollapse();i.priceItineraryModal.parent().find("label").removeAttr("style")},i.initalizePromoCodeValidationForm=function(){var n=i.priceItineraryModal.find("form");n.length>0&&n.validate({rules:{"cebPromotion.PromotionCode":{required:!0,maxlength:8}},errorPlacement:function(n,i){t(i).addClass("error")}})},i.initializeBookSummaryFareCollapse=function(){if(i.journeyFareContainerClass!="")var t=n.createObject("pricedisplayFareCollapse",{journeyFareContainerClass:i.journeyFareContainerClass,toggleBarsClass:i.toggleBarsClass,toggleContainersClass:i.toggleContainersClass,hideBarClass:i.hideBarClass,openBarClass:i.openBarClass,accordionUrl:i.accordionUrl})},i.checkPricedisplayIfHidden=function(){i.priceItineraryModal.is(":hidden")&&i.priceItineraryModal.modal("hide")},i.initializeTaxesFeesBreakdown=function(){i.priceItineraryModal.find(i.showTaxesFeesModalButton).on("click",i.showTaxesAndFeesModal);i.taxesfeeBreakdownModal.on("hidden.bs.modal",i.reattachedScrollability)},i.showTaxesAndFeesModal=function(){i.taxesfeeBreakdownModal.modal("toggle")},i.reattachedScrollability=function(){t(".modal.in").length>0&&t("body").addClass("modal-open")},i}}(nca,jQuery),function(n,t){"use strict";n.Class.pricedisplayTaxesFeesModal=function(){var i=this;return i.showModalButtonClass="",i.showModalButton=null,i.taxesfeeBreakdownContainerClass="",i.taxesfeeBreakdownContent=null,i.taxesfeeBreakdownModalId="",i.taxesfeeBreakdownModal=null,i.onReady=function(){i.initializeTaxesFeesBreakdown();n.EventBus.subscribe("taxAndFeeModal/reinitialize",i.initializeTaxesFeesBreakdown)},i.initializeTaxesFeesBreakdown=function(){i.showModalButton=t("."+i.showModalButtonClass);i.taxesfeeBreakdownContent=t("."+i.taxesfeeBreakdownContainerClass);i.taxesfeeBreakdownModal=t("#"+i.taxesfeeBreakdownModalId);i.updateBreakdownModal();i.showModalButton.on("click",i.modalToggle);i.taxesfeeBreakdownModal.on("hidden.bs.modal",i.reattachedScrollability)},i.modalToggle=function(){i.taxesfeeBreakdownModal.modal("toggle")},i.updateBreakdownModal=function(){var n=i.taxesfeeBreakdownContent.eq(0),t=n.html();i.taxesfeeBreakdownModal.find(".modal-body").html("").html(t)},i.reattachedScrollability=function(){t(".modal.in").length>0&&(t("body").hasClass("modal-open")||t("body").addClass("modal-open"))},i}}(nca,jQuery),function(n,t){"use strict";n.Class.bookingRecapModal=function(){var i=this;return i.showModalButtonId="",i.showModalButton=null,i.recapContainerId="",i.recapContainer=null,i.recapModalId="",i.recapModal=null,i.priceItineraryContainerId="",i.priceItineraryContent=null,i.recapFormId="",i.recapForm=null,i.recapFlightModalContentClass="",i.recapFlightModalContent=null,i.recapFlightContentClass="",i.recapFlightContent=null,i.recapGuestModalContentClass="",i.recapGuestModalContent=null,i.recapGuestContentClass="",i.recapGuestContent=null,i.recapTCCheckboxId="",i.recapTCCheckbox=null,i.recapTCContainerClass="",i.recapBackButtonId="",i.recapBackButton=null,i.recapSubmitButtonId="",i.recapSubmitButton=null,i.agreementErrorMessage="This field is required.",i.url="",i.triggerElementName="",i.recapCloseButtonId="",i.recapCloseButton=null,i.grandTotalClass="",i.flightBookingTotalClass="",i.isModifyFlow=!1,i.isMobileView=!1,i.recapTCBaggageBtnId="",i.recapTCBaggageBtn=null,i.recapTCBaggageContentId="",i.recapTCBaggageContent=null,i.recapTCBaggageLink="",i.recapTCBaggageTitle="",i.recapTCMealsBtnId="",i.recapTCMealsBtn=null,i.recapTCMealsContentId="",i.recapTCMealsContent=null,i.recapTCMealsLink="",i.recapTCMealsTitle="",i.recapTCSportsBtnId="",i.recapTCSportsBtn=null,i.recapTCSportsContentId="",i.recapTCSportsContent=null,i.recapTCSportsLink="",i.recapTCSportsTitle="",i.recapTCSeatsBtnId="",i.recapTCSeatsBtn=null,i.recapTCSeatsContentId="",i.recapTCSeatsContent=null,i.recapTCSeatsLink="",i.recapTCSeatsTitle="",i.tcUrl="",i.tcKeyBaggage="",i.tcKeyMeals="",i.tcKeySports="",i.tcKeySeats="",i.hasSeatChange=!1,i.hasOldMeals=!1,i.bookingRecapModalClass="",i.formToSubmitId="",i.formToSubmit=null,i.recapContentClass="booking-recap-content",i.recapContentContainerClass="booking-recap-content-container",i.recapContent=null,i.recapContentContainer=null,i.bookingRecapViewMoreClass="",i.bookingRecapViewMore={},i.bookingRecapMoreDetailsContainerClass="recap-panel-more-details",i.onReady=function(){i.showModalButton=t("#"+i.showModalButtonId);i.priceItineraryContent=t("#"+i.priceItineraryContainerId);i.recapModal=t("#"+i.recapModalId);i.flightDetails=t("."+i.recapModalFlightDetailsClass);i.recapForm=t("#"+i.recapFormId);i.recapContent=t("."+i.recapContentClass);i.recapContentContainer=t("."+i.recapContentContainerClass);i.recapTCCheckbox=t("#"+i.recapTCCheckboxId);i.recapSubmitButton=t("#"+i.recapSubmitButtonId);i.recapBackButton=t("#"+i.recapBackButtonId);i.recapCloseButton=t("#"+i.recapCloseButtonId);i.recapTCBaggageBtn=t("#"+i.recapTCBaggageBtnId);i.recapTCBaggageContent=t("#"+i.recapTCBaggageContentId);i.recapTCMealsBtn=t("#"+i.recapTCMealsBtnId);i.recapTCMealsContent=t("#"+i.recapTCMealsContentId);i.recapTCSportsBtn=t("#"+i.recapTCSportsBtnId);i.recapTCSportsContent=t("#"+i.recapTCSportsContentId);i.recapTCSeatsBtn=t("#"+i.recapTCSeatsBtnId);i.recapTCSeatsContent=t("#"+i.recapTCSeatsContentId);i.recapTCCebTransferBtn=t("#"+i.recapTCCebTransferBtnId);i.recapTCCebTransferContent=t("#"+i.recapTCCebTransferContentId);i.attachValidations();i.updateRecapModal();i.recapTCCheckbox.on("ifChanged",i.evaluateTCCheckbox);i.recapTCCheckbox.on("focus",i.addedTabIndicator);if(i.isModifyFlow){i.recapSubmitButton.on("click",i.submitPage);i.recapBackButton.on("click",i.hideModal)}else{i.recapSubmitButton.on("click",i.hideModal);i.recapBackButton.on("click",i.back)}if(t("body").hasClass("mobile")){i.isMobileView=!0;i.recapCloseButton.on("click",i.clickSubmit);i.triggerElement=t(i.triggerElementName);(i.triggerElement==null||i.triggerElement.length==0)&&(i.triggerElement=t("#"+i.triggerElementName));(i.triggerElement==null||i.triggerElement.length==0)&&(i.triggerElement=t("."+i.triggerElementName));i.bindEvents()}if(i.isModifyFlow)i.showModalButton.on("click",i.submitEvent);else t(window).load(i.showModal);i.formToSubmitId!=""&&(i.formToSubmit=t("#"+i.formToSubmitId));n.EventBus.subscribe("bookingRecapModal/update",i.updateRecapModal);n.EventBus.subscribe("formSubmit/seatChangeFalse",i.setSeatChangeToFalse);n.EventBus.subscribe("formSubmit/seatChangeTrue",i.setSeatChangeToTrue);n.EventBus.subscribe("formSubmit/setOldMealsValue",i.setOldMealsValue);n.EventBus.subscribe("bookingRecapModal/show",i.showModal);n.EventBus.publish("mealAddOns/checkAndSetOldMealsValue")},i.clickSubmit=function(){i.recapSubmitButton.click()},i.bindEvents=function(){i.recapModal.on("shown.bs.modal",function(n){var r=t(this),u=r.find(".removeUnloadConfirm");u.on("click",function(){window.onbeforeunload=null});i.setModalPostition(n,r)})},i.setModalPostition=function(n,t){var r=i.triggerElement.offset(),f=i.triggerElement.outerHeight(),c=i.triggerElement.outerWidth(),e=r.top+f,o=t.find(".modal-dialog"),s,u,h;return o.length!=0&&o.offset({top:e}),i.hideCloseButton||(s=t.find(".modal-dialog"),u=s.find(".close-button-container"),u.css({width:c,height:f+1}),h=r.top-e,u.css({top:h,left:r.left})),!1},i.submitEvent=function(){if(i.hasSeatChange)return n.EventBus.publish("SeatMap/Confirmation",t(this)),!1;if(i.isModifyFlow&&i.hasOldMeals)return n.EventBus.publish("mealAddOns/oldMealConfirmation",t(this)),!1;i.showModal()},i.showModal=function(){if(i.recapModal){i.recapModal.modal("show");var n=t("html,body");n.animate({scrollTop:300},1);i.recapModal&&i.recapModal.length>0&&i.setAriaHiddenAttributeToModal(!1);i.recapModal.focus();i.recapModal.find(".modal-backdrop").attr("tabindex",-1)}},i.bindTCLinks=function(){i.recapTCBaggageContent!=null&&(i.loadTCContent(i.recapTCBaggageLink,i.recapTCBaggageContent,i.recapTCBaggageBtn,i.recapTCBaggageTitle,i.tcKeyBaggage),i.recapTCMealsContent!=null)&&(i.loadTCContent(i.recapTCMealsLink,i.recapTCMealsContent,i.recapTCMealsBtn,i.recapTCMealsTitle,i.tcKeyMeals),i.recapTCSportsContent!=null)&&(i.loadTCContent(i.recapTCSportsLink,i.recapTCSportsContent,i.recapTCSportsBtn,i.recapTCSportsTitle,i.tcKeySports),i.recapTCSeatsContent!=null)&&i.loadTCContent(i.recapTCSeatsLink,i.recapTCSeatsContent,i.recapTCSeatsBtn,i.recapTCSeatsTitle,i.tcKeySeats)},i.loadTCContent=function(n,r,u,f,e){var o=r.attr("hidden",!0).load(i.tcUrl+" div#contents-anchor",{"cebLoadTc.TcUrl":n,"cebLoadTc.TcKey":e});o!=null&&u.click(function(){var n=window.open();n.document.title=f;o.attr("hidden",!1);t(n.document.body).html(o.html());o.attr("hidden",!0)})},i.hideModal=function(){if(i.isModifyFlow)i.recapTCCheckbox.iCheck("uncheck"),t(".popover").popover("destroy"),i.recapTCCheckbox.parent().removeClass("error");else if(i.recapForm.valid())return i.recapModal.modal("hide"),t.ajax({url:i.url,type:"GET"}),i.setAriaHiddenAttributeToModal(!0),t(".popover").popover("destroy"),n.EventBus.publish("payment/EcommerceCheckout"),!1},i.submitPage=function(){i.recapForm.valid()&&i.isModifyFlow&&(i.formToSubmit!=null&&i.formToSubmit.length>0?i.formToSubmit.submit():i.recapForm.submit())},i.addAriaHiddenAttribute=function(n){n&&(n.find("*[aria-hidden='true']").addClass("originallyHidden"),n.is("body")||n.attr("aria-hidden","true"),n.find("div").attr("aria-hidden","true"),n.find("span").attr("aria-hidden","true"))},i.removeAriaHiddenAttribute=function(n){n&&(n.removeAttr("aria-hidden"),n.find("div").not(".originallyHidden").removeAttr("aria-hidden"),n.find("span").not(".originallyHidden").removeAttr("aria-hidden"))},i.back=function(){return parent.history.back(),!1},i.updateRecapModal=function(){i.updateRecapContent();i.initializeAria();i.bindRecapCollapseEvents()},i.initializeAria=function(){var n,t;for(i.bookingRecapViewMore=i.recapContentContainer.find("."+i.bookingRecapViewMoreClass),n=0;n<i.bookingRecapViewMore.length;n++)t="more-details-"+Math.random().toString(36).substr(2,6),i.bookingRecapViewMore.eq(n).attr("aria-controls",t).attr("tabindex","0").data("target","#"+t).siblings("."+i.bookingRecapMoreDetailsContainerClass).attr("id",t)},i.bindRecapCollapseEvents=function(){if(i.bookingRecapViewMore=t("."+i.bookingRecapViewMoreClass),i.bookingRecapViewMore.length>0)i.bookingRecapViewMore.on("click",i.toggleRecapMoreDetails)},i.toggleRecapMoreDetails=function(){var n=t(this),i=t(n.data("target"));i.is(":visible")?(n.html(n.data("viewtext")).removeClass("view-details").attr("aria-expanded",!1),i.attr("aria-hidden",!0),i.slideUp(500)):(n.html(n.data("hidetext")).addClass("view-details").attr("aria-expanded",!0),i.attr("aria-hidden",!1),i.slideDown(500))},i.updateRecapContent=function(){i.recapContent=t("."+i.recapContentClass);i.recapContentContainer.html(i.recapContent.html());i.recapContent.html("")},i.evaluateTCCheckbox=function(){var n=i.recapForm.valid();n&&i.recapTCCheckbox.parent().removeClass("error")},i.attachValidations=function(){i.recapForm.validate({rules:{bookingRecapTC:{required:!0}},unhighlight:function(n){t("body").hasClass("mobile")||t(n).siblings().popover("destroy")},errorPlacement:function(n,r){t(r).parent().addClass("error");t("body").hasClass("mobile")||t(r).siblings().first().popover({container:t("."+i.recapTCContainerClass),placement:"top",trigger:"focus",title:"Field Incomplete",content:i.agreementErrorMessage,template:'<div class="popover error-popover terms-and-conditions" role="tooltip"><div class="arrow error-arrow-top"><\/div><h3 class="popover-title error-title"><\/h3><div class="popover-content"><\/div><\/div>'}).popover("show")}})},i.addedTabIndicator=function(){i.recapTCCheckbox.addClass("onFocus")},i.setSeatChangeToTrue=function(){i.hasSeatChange=!0},i.setSeatChangeToFalse=function(){i.hasSeatChange=!1},i.setOldMealsValue=function(n){typeof n=="boolean"&&(i.hasOldMeals=n)},i.setAriaHiddenAttributeToModal=function(n){var f=t("body"),e=t.merge(f.find(".col-left").children(),f.find(".col-right").children()),o=f.find("."+i.bookingRecapModalClass),r,u;for(n?i.addAriaHiddenAttribute(o):i.removeAriaHiddenAttribute(o),r=0;r<e.length;r++)u=e.eq(r),u.hasClass(i.bookingRecapModalClass)==!1&&(n?i.removeAriaHiddenAttribute(u):i.addAriaHiddenAttribute(u))},i}}(nca,jQuery),function(n,t){"use strict";n.Class.stationInformation=function(){var n=this;n.extraInfoContainerClass="";n.extraInfoContainerObj={};n.onReady=function(){n.extraInfoContainerObj=t("."+n.extraInfoContainerClass);n.extraInfoContainerObj.on("click","a",n.linkEvent)};n.linkEvent=function(n){n.stopPropagation();var i=t(this);i.attr("href")=="#"&&n.preventDefault()}}}(nca,jQuery),function(n,t){"use strict";n.Class.deviceState=function(){var i=this;return i.currentDeviceState="md",i.onReady=function(){window.addEventListener("resize",function(){i.getDeviceState()});i.getDeviceState()},i.getDeviceState=function(){var u,r,f;document.querySelector(".state-indicator")==null&&(u=document.createElement("div"),u.className="state-indicator",document.body.appendChild(u));r="md";window.getComputedStyle&&(r=window.getComputedStyle(document.querySelector(".state-indicator"),":before").getPropertyValue("content"),i.notValidState(r)&&(r=i.getStatebyFontWeight()));i.notValidState(r)&&(f=document.querySelector(".state-indicator").fontWeight,r=i.returnFontWeight(f));r=r.replace(/'/g,"");r=t.trim(r.replace(/"/g,""));r.length!=2&&(r="md");i.currentDeviceState=r;n.EventBus.publish("deviceState/resized")},i.notValidState=function(n){return n==""||n=="none"||n=="normal"?!0:!1},i.returnFontWeight=function(n){switch(n){case"100":return"xs";case"200":return"sm";case"300":return"md";case"400":return"lg";default:return"md"}},i.getStatebyFontWeight=function(){var n=window.getComputedStyle(document.querySelector(".state-indicator"),":before").getPropertyValue("font-weight");return i.returnFontWeight(n)},i}}(nca,jQuery),function(n,t){"use strict";n.Class.breadcrumb=function(){var n=this;return n.selectorClasses="",n.classes={},n.activeClass="",n.onReady=function(){n.class=t(n.selectorClasses);n.class.find("a").attr("href","#").attr("tabindex","-1");n.activeClass&&t(n.activeClass).find("a").first().prepend("<span class='offscreen'> Current: <\/span>")},n}}(nca,jQuery),function(n,t){"use strict";n.Class.loginDialog=function(){var n=this;n.signInId="";n.signIn={};n.hiGuestId="";n.hiGuest={};n.loginDialogId="";n.loginDialog={};n.loginDialogCloseId="";n.loginDialogClose={};n.loginArrowId="";n.loginArrow={};n.dialogsClass="";n.dialogs={};n.arrowsClass="";n.arrows={};n.openDialogOnLoad=!1;n.loginNavbarLinkId=null;n.onReady=function(){n.loginNavbarLinkId?(n.loginNavbarLink=t("#"+n.loginNavbarLinkId),n.openDialogOnLoad&&n.loginNavbarLink.click()):(n.loginDialog=t("#"+n.loginDialogId),n.loginDialogClose=n.loginDialog.find("#"+n.loginDialogCloseId),n.signIn=t("#"+n.signInId),n.hiGuest=t("#"+n.hiGuestId),n.loginArrow=t("#"+n.loginArrowId),n.dialogs=t("."+n.dialogsClass),n.arrows=t("."+n.arrowsClass),n.setUpBindEvents(),n.openDialogOnLoad&&n.signIn.click())};n.setUpBindEvents=function(){if(n.signIn)n.signIn.on("click",n.openLoginDialog);if(n.hiGuest)n.hiGuest.on("click",n.openLoginDialog);if(n.loginDialogClose)n.loginDialogClose.children().on("click",n.closeLoginDialog)};n.openLoginDialog=function(){n.signIn.attr("aria-expanded","true");n.hideOtherDialogs();n.loginArrow.show();n.loginDialog.slideDown(150).find("input").eq(0).focus()};n.closeLoginDialog=function(){n.signIn.attr("aria-expanded","false");n.signIn.focus();n.loginArrow.hide();n.loginDialog.slideUp(150)};n.hideOtherDialogs=function(){n.dialogs&&n.dialogs.hide();n.arrows&&n.arrows.hide()}}}(nca,jQuery),function(n,t){"use strict";n.Class.pageWait=function(){var i=this;return i.loadingDimmerId="",i.loadingDimmer=[],i.loadingImageId="",i.loadingImage=[],i.firstInput={},i.onReady=function(){i.loadingDimmer=t("#"+i.loadingDimmerId);i.loadingImage=t("#"+i.loadingImageId);i.firstInput=t("input, a, select").first();i.disableTabbing();t(window).load(function(){i.loadingImage.hide();i.loadingDimmer.hide();i.enableTabbing();n.EventBus.publish("loadingDimmer/finished")});n.EventBus.subscribe("page/wait",i.showDimmer);n.EventBus.subscribe("page/showDimmerOnly",i.showDimmerOnly);n.EventBus.subscribe("page/hideDimmerOnly",i.hideDimmerOnly)},i.showDimmer=function(){i.loadingImage.show();i.loadingDimmer.show();i.loadingImage.focus();i.loadingDimmer.attr("aria-busy",!0);i.disableTabbing();n.EventBus.publish("sessionTracking/reset")},i.showDimmerOnly=function(n){i.loadingImage.show();n||(i.loadingDimmer.show(),i.loadingDimmer.attr("aria-busy",!0))},i.hideDimmerOnly=function(n){i.loadingImage.hide();n||(i.loadingDimmer.hide(),i.loadingDimmer.attr("aria-busy",!1))},i.disableTabbing=function(){if(!i.isMobileView()){t(i.loadingImage).off("focus");i.loadingImage.focus();t("body").on("keydown",i.onKeyDown)}},i.onKeyDown=function(n){n.which===9&&(n.preventDefault(),i.loadingImage.focus())},i.enableTabbing=function(){i.isMobileView()||(t("body").unbind("keydown"),i.loadingImage.unbind("focus"),i.firstInput.first().focus())},i.isMobileView=function(){return t("body").hasClass("mobile")?!0:!1},i}}(nca,jQuery),function(n,t){"use strict";n.Class.pageUnload=function(){var i=this;return i.message="",i.onReady=function(){window.onbeforeunload=function(n){return typeof n=="undefined"&&(n=window.event),n&&(n.returnValue=i.message),i.message};window.onbeforeclose=function(){return i.message};t(window).on("unload",function(){return i.message});var r=t(".removeUnloadConfirm");r.on("click",i.removeUnloadConfirm);n.EventBus.subscribe("removeUnloadConfirm",i.removeUnloadConfirm)},i.removeUnloadConfirm=function(){window.onbeforeunload=null;window.onbeforeclose=null;t(window).off("unload")},i}}(nca,jQuery),function(n,t){"use strict";n.Class.toggleContainer=function(){var i=this;return i.parentContainerElementName="",i.parentContainer={},i.toggleButtonElementName="",i.toggleButton={},i.containerToToggleElementName="",i.containerToToggle={},i.openClass="",i.closeClass="",i.initiallyCloseAll=!1,i.multipleContainers=!1,i.navBottomElementName="",i.navBottom={},i.classFlagForNavBottom="",i.mustValidateTabs=!1,i.continueButtonId="",i.continueButton=null,i.formId="",i.form=null,i.onReady=function(){i.createObjects();i.bindEvents();i.setInitialView()},i.createObjects=function(){i.toggleButton=i.getObject(i.toggleButtonElementName);i.containerToToggle=i.getObject(i.containerToToggleElementName);i.parentContainer=i.getObject(i.parentContainerElementName);i.navBottom=i.getObject(i.navBottomElementName);i.hasFormToValidate()?(i.continueButton=t("#"+i.continueButtonId),i.form=t("#"+i.formId)):i.mustValidateTabs=!1},i.getObject=function(n){if(n=="")return null;var i=t(n);return i.length==0&&(i=t("#"+n)),i.length==0&&(i=t("."+n)),i},i.hasFormToValidate=function(){return i.mustValidateTabs&&i.continueButtonId!=""&&i.formId!=""?!0:!1},i.bindEvents=function(){i.toggleButton.on("click",i.containerToggleEvents);if(i.mustValidateTabs)i.continueButton.on("click",i.continueButtonEvents)},i.continueButtonEvents=function(){i.form.valid()?i.submitForm():i.goToNextContainer()},i.submitForm=function(){n.EventBus.publish("removeUnloadConfirm");n.EventBus.publish("page/wait");i.form.submit()},i.goToNextContainer=function(){var r=i.getActiveContainer(),n=t("input.error,select.error").eq(0).closest(i.containerToToggle),u;if(r){if(r.find(".error,.errorStatus").length==0){if(!n)return;r.attr("id")!=n.attr("id")&&n.find(".error,.errorStatus").removeClass("error").removeClass("errorStatus");n.parent().find(i.toggleButton).trigger("click")}return i.multipleContainers&&(u=i.containerToToggle.not(n),i.closeContainer(u,!1)),!1}},i.setInitialView=function(){i.closeContainer(i.containerToToggle,!0);i.initiallyCloseAll||(i.openContainer(i.containerToToggle.first()),i.toggleNavBottom(i.containerToToggle.first(),i.classFlagForNavBottom),n.EventBus.publish("Container/Toggle"))},i.openContainer=function(n){if(n){n.slideDown();var t=n.closest(i.parentContainer).find(i.toggleButton);if(!t)return;t.removeClass(i.closeClass);t.addClass(i.openClass)}},i.closeContainer=function(n,t){if(n){t?n.hide():n.slideUp();var r=n.closest(i.parentContainer).find(i.toggleButton);r&&(r.removeClass(i.openClass),r.addClass(i.closeClass))}},i.containerToggleEvents=function(r){var o;r.preventDefault();var e=t(this),u=e.closest(i.parentContainer).find(i.containerToToggle),f=!1;i.mustValidateTabs?i.form.valid()?i.toggleContainer(u):(f=i.validateContainerElements(u),f&&(u=i.getActiveContainer())):i.toggleContainer(u);i.multipleContainers&&(o=i.containerToToggle.not(u),i.closeContainer(o,f));i.toggleCloseOpenElementClass(e,f);i.toggleNavBottom(u,i.classFlagForNavBottom);n.EventBus.publish("Container/Toggle")},i.validateContainerElements=function(n){var t=i.getActiveContainer(),r;if(t&&n)return r=!1,t.find(".error,.errorStatus").length>0?(n=t,n.show(),r=!0):(n.find(".error,.errorStatus").removeClass("error").removeClass("errorStatus"),i.toggleContainer(n)),r},i.toggleContainer=function(n){n&&t.when(n.slideToggle()).done(function(){var t=n.closest(i.parentContainer).find(i.toggleButton);i.scrollToTop(t)})},i.scrollToTop=function(n){if(n){var r=n.offset().top;i.isMobileView()&&(r=r-t("nav").outerHeight(!0));t("html, body").animate({scrollTop:r},"fast")}},i.getActiveContainer=function(){if(i.containerToToggleElementName)return t("."+i.containerToToggleElementName+":visible").eq(0)},i.toggleCloseOpenElementClass=function(n,t){n&&(t||(i.openClass!=""&&n.hasClass(i.openClass)?(n.removeClass(i.openClass).addClass(i.closeClass),n.attr("aria-expanded","false")):i.closeClass!=""&&n.hasClass(i.closeClass)&&(n.removeClass(i.closeClass).addClass(i.openClass),n.attr("aria-expanded","true"))))},i.toggleNavBottom=function(n,t){i.navBottom!=null&&i.navBottom!=undefined&&(n.hasClass(t)&&n.is(":visible")?i.navBottom.show():n.hasClass(t)&&!n.is(":visible")?i.navBottom.hide():i.navBottom.hide())},i.isMobileView=function(){return t("body").hasClass("mobile")?!0:!1},i}}(nca,jQuery),function(n){"use strict";n.Class.iCheckHelper=function(){var n=this;n.isICheck=function(n){return n.next().hasClass("iCheck-helper")||n.hasClass("square-checkbox")||n.hasClass("square-radio")?!0:!1};n.checkRadioButton=function(t){n.isICheck(t)?t.iCheck("check"):t.prop("checked",!0)};n.uncheckRadioButton=function(t){n.isICheck(t)?t.iCheck("uncheck"):t.prop("checked",!1)};n.disableRadioButton=function(t){n.isICheck(t)?t.iCheck("disable"):t.prop("disabled",!0)};n.enableRadioButton=function(t){n.isICheck(t)?t.iCheck("enable"):t.prop("disabled",!1)}}}(nca,jQuery,Globalize),function(n,t){"use strict";n.Class.autoAdjustFontSize=function(){var n=this;return n.containerElementSelector="",n.containerElement={},n.childElementSelector="",n.minimumSize="10",n.onReady=function(){n.creatJqueryObjects();n.adjustFontSize()},n.creatJqueryObjects=function(){n.containerElement=t(n.containerElementSelector)},n.adjustFontSize=function(){for(var t=0,u=n.containerElement.length;t<u;t++)for(var f=n.containerElement.eq(t),i=f.find(n.childElementSelector),r=parseInt(i.css("font-size"));n.isOverflow(f)&&parseInt(r)>parseInt(n.minimumSize);)r=parseInt(i.css("font-size"))-1,i.css("font-size",r)},n.isOverflow=function(n){var t=n.css("overflow"),i;return t&&t!="visible"||n.css("overflow","hidden"),i=!1,n[0].scrollWidth>n[0].clientWidth&&(i=!0),n.css("overflow",t),i},n}}(nca,jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f=typeof i=="object"&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),typeof i=="string"&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],u=="click")this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else if(u!="manual"){o=u=="hover"?"mouseenter":"focusin";s=u=="hover"?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this))}this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i&&i.$tip&&i.$tip.is(":visible")){i.hoverState="in";return}if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;if(y){var w=i,b=this.options.container?n(this.options.container):this.$element.parent(),e=this.getPosition(b);i=i=="bottom"&&f.bottom+s>e.bottom?"top":i=="top"&&f.top-s<e.top?"bottom":i=="right"&&f.right+o>e.width?"left":i=="left"&&f.left-o<e.left?"right":i;r.removeClass(w).addClass(i)}p=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(p,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;n=="out"&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top=t.top+o;t.left=t.left+s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;i=="top"&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?u.left*2-l+h:u.top*2-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function e(){u.hoverState!="in"&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),f=n.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r=u.tagName=="BODY",i=u.getBoundingClientRect();i.width==null&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return n=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-i/2}:n=="top"?{top:t.top-r,left:t.left+t.width/2-i/2}:n=="left"?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.width&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(Math.random()*1e6);while(document.getElementById(n));return n};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type)})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery),function(n,t){"use strict";n.Class.menuBar=function(){var n=this;return n.isMenuBar=!1,n.menuBarSelector="",n.menuBar={},n.loginBarSelector="",n.loginBar={},n.headerButtonsSelector="",n.headerButtons={},n.dialogsSelector="",n.dialogs={},n.arrowUpSelector="",n.arrowsUp={},n.document=t(document),n.onReady=function(){n.isMenuBar&&(n.getHeaderObjects(),n.showMenuBar(),n.moveUpLoginBar(),n.setupMenuBarEvents())},n.getHeaderObjects=function(){n.menuBar=t(n.menuBarSelector);n.loginBar=t(n.loginBarSelector);n.headerButtons=t(n.headerButtonsSelector);n.dialogs=t(n.dialogsSelector);n.arrowsUp=t(n.arrowUpSelector)},n.showMenuBar=function(){n.menuBar&&n.menuBar.removeClass("hidden")},n.moveUpLoginBar=function(){if(n.loginBar){var t=n.getCurrentDialog(n.loginBar.find("#signInLink").data("dialogclass"));t.addClass("ceilHeaderPosition")}},n.setupMenuBarEvents=function(){n.headerButtons.on("click",n.showDialog)},n.showDialog=function(){var i=t(this),r=n.getCurrentDialog(i.data("dialogclass")),u=i.siblings(n.arrowUpSelector);n.hideAllDialogs();u.show();r.show();n.bindDialogCloseEvent()},n.getCurrentDialog=function(n){return t("."+n)},n.hideAllDialogs=function(){n.arrowsUp&&n.dialogs&&(n.arrowsUp.hide(),n.dialogs.hide())},n.bindDialogCloseEvent=function(){n.document.on("mouseup",n.closeCurrentDialog)},n.closeCurrentDialog=function(t){n.dialogs.is(t.target)||n.dialogs.has(t.target).length!=0||(n.hideAllDialogs(),n.unBindDialogCloseEvent())},n.unBindDialogCloseEvent=function(){n.document.off("mouseup")},n}}(nca,jQuery),function(n){"use strict";n.Class.validationPopoverEventBus=function(){var t=this;return t.title="",t.onReady=function(){t.title==""&&(t.title="Field Incomplete");n.EventBus.subscribe("popover/create",t.createValidationPopover)},t.createValidationPopover=function(n,i,r,u,f){n.popover({container:i,placement:"top",trigger:u||"focus",title:f?f:t.title,content:r.text(),template:'<div class="popover error-popover" role="tooltip"><div class="arrow error-arrow-top"><\/div><h3 class="popover-title error-title"><\/h3><div class="popover-content"><\/div><\/div>'})},t}}(nca,jQuery),function(n,t){"use strict";n.Class.wcagView=function(){var i=this;return i.requiredCount=2,i.currentCount=0,i.keydown="keydown",i.isWCAG=!1,i.tabCode=9,i.onReady=function(){i.document=t(document);i.bindEvents()},i.bindEvents=function(){i.document.on("click keydown",i.checkUserAction)},i.checkUserAction=function(n){i.isWCAG||(i.newEvent=n.type,i.newEvent==i.keydown?n.keyCode==i.tabCode&&n.shiftKey||n.keyCode==i.tabCode?(i.currentCount++,i.currentCount>=i.requiredCount&&i.activateWCAGView()):i.currentCount=0:i.currentCount=0)},i.activateWCAGView=function(){i.isWCAG=!0;n.EventBus.publish("enableWCAG",!0)},i}}(nca,jQuery),function(n,t){"use strict";n.Class.multipleTabs=function(){var n=this;return n.bookingKeyClass="",n.bookingKey={},n.onReady=function(){n.bookingKey=t("."+n.bookingKeyClass);n.AppendToForm()},n.AppendToForm=function(){t("form").each(function(){t(this).append(n.bookingKey.clone())})},n}}(nca,jQuery),function(n,t,i){"use strict";n.Class.phTravelTax=function(){var r=this;return r.phTravelTaxModalId="",r.phTravelTaxModal=null,r.phTravelTaxCheckboxClass="",r.phTravelTaxCheckbox={},r.phTravelTaxHiddenInputClass="",r.phTravelTaxSubTotalClass="",r.phTravelTaxSubTotal={},r.phTravelTaxAdminFeeClass="",r.phTravelTaxAdminFee={},r.phTravelTaxFeeAmount=0,r.phTravelTaxAdminFeeAmount=0,r.phTravelTaxTotalClass="",r.phTravelTaxTotal={},r.bookingCurrency="PHP",r.phTravelTaxSubmitBtn="",r.phTravelTaxSubmit={},r.isRemoveAddonsTriggered=!1,r.phTravelTaxCloseBtn="",r.phTravelTaxClose={},r.travelTaxTermsButtonId="",r.travelTaxTermsButton=[],r.travelTaxTableDataClass="",r.triggerTCOnPurchase=!1,r.onReady=function(){if(r.phTravelTaxModalId!=""&&(r.phTravelTaxModal=t("#"+r.phTravelTaxModalId)),r.phTravelTaxSubTotalClass!=""&&(r.phTravelTaxSubTotal=t("."+r.phTravelTaxSubTotalClass)),r.phTravelTaxAdminFeeClass!=""&&(r.phTravelTaxAdminFee=t("."+r.phTravelTaxAdminFeeClass),r.phTravelTaxAdminFeeAmount=r.phTravelTaxAdminFee.text()),r.phTravelTaxTotalClass!=""&&(r.phTravelTaxTotal=t("."+r.phTravelTaxTotalClass)),r.phTravelTaxCheckboxClass!=""){r.phTravelTaxCheckbox=t("."+r.phTravelTaxCheckboxClass);r.phTravelTaxCheckbox.on("ifToggled",r.updateDataValue)}r.phTravelTaxSubmitBtn!=""&&(r.phTravelTaxSubmit=t(r.phTravelTaxSubmitBtn).on("click",r.submit));r.phTravelTaxCloseBtn!=""&&(r.phTravelTaxClose=t(r.phTravelTaxCloseBtn).on("click",r.closeEvent));r.travelTaxTermsButtonId&&(r.travelTaxTermsButton=t("#"+r.travelTaxTermsButtonId));n.EventBus.subscribe("phTravelTax/showModal",r.showModal);n.EventBus.subscribe("phTravelTax/triggerRemoveAddOns",r.triggerRemoveAddOns);r.computeTotals()},r.showModal=function(){r.phTravelTaxModal.modal("show");r.phTravelTaxModal.focus()},r.updateDataValue=function(n){var f=t(n.target),i=f.closest("."+r.travelTaxTableDataClass).find("."+r.phTravelTaxHiddenInputClass),u=i.val();f.is(":checked")?i.val(u.replace("XX","")):u.includes("XX")||i.val(u+"XX");r.computeTotals()},r.computeTotals=function(){for(var n=parseFloat(0),u=parseFloat(0),f=parseFloat(0),e,t=0;t<r.phTravelTaxCheckbox.length;t++)e=r.phTravelTaxCheckbox.eq(t),e.is(":checked")&&(n+=parseFloat(r.phTravelTaxFeeAmount),u+=parseFloat(r.phTravelTaxAdminFeeAmount));n>0?(f=parseFloat(n)+parseFloat(u),r.triggerTCOnPurchase&&r.toggleTermsAndCondition(!0)):r.triggerTCOnPurchase&&r.toggleTermsAndCondition(!1);r.phTravelTaxAdminFee.text(r.bookingCurrency+" "+i.format(u,"c2"));r.phTravelTaxSubTotal.text(r.bookingCurrency+" "+i.format(n,"c2"));r.phTravelTaxTotal.text(r.bookingCurrency+" "+i.format(f,"c2"))},r.toggleTermsAndCondition=function(n){n?r.travelTaxTermsButton.length>0&&r.travelTaxTermsButton.attr("aria-expanded")!="true"&&(r.travelTaxTermsButton.trigger("click"),r.travelTaxTermsButton.attr("aria-expanded","true")):r.travelTaxTermsButton.length>0&&r.travelTaxTermsButton.attr("aria-expanded")=="true"&&(r.isMobileView()||r.travelTaxTermsButton.trigger("click"),r.travelTaxTermsButton.attr("aria-expanded","false"))},r.submit=function(){if(r.isRemoveAddonsTriggered)return n.EventBus.publish("addOns/removeAddonsExecute"),r.isRemoveAddonsTriggered=!1,!1},r.triggerRemoveAddOns=function(){r.isRemoveAddonsTriggered=!0},r.closeEvent=function(){r.isRemoveAddonsTriggered=!1},r.isMobileView=function(){return t("body").hasClass("mobile")?!0:!1},r}}(nca,jQuery,Globalize),function(n,t){"use strict";n.Class.resetChanges=function(){var i=this;return i.resetChangesBtnClass="",i.cancelChangesBtnClass="",i.modalElementId="",i.modalElement="",i.url="",i.actionUrl="",i.requiresReset=!1,i.cancelChangesBtn=null,i.breadcrumbsClass="",i.breadcrumbs=null,i.pageSubmitBtnId="",i.pageSubmitBtn=null,i.onReady=function(){i.createJqueryObjects();i.bindEvents();n.EventBus.subscribe("resetChanges/checkin",i.resetBooking)},i.createJqueryObjects=function(){i.modalElement=t("#"+i.modalElementId);i.requiresReset&&(i.cancelChangesBtn=t("."+i.cancelChangesBtnClass),i.breadcrumbs=t("."+i.breadcrumbsClass),i.pageSubmitBtn=t("#"+i.pageSubmitBtnId))},i.bindEvents=function(){if(i.modalElement!=null&&i.modalElement.length>0)i.modalElement.on("click","."+i.resetChangesBtnClass,i.resetBooking);if(i.requiresReset){if(i.cancelChangesBtn!=null&&i.cancelChangesBtn.length>0)i.cancelChangesBtn.on("click",i.returnToPreviousPage);i.requiresResetEvents()}},i.requiresResetEvents=function(){i.modalElement!=null&&i.modalElement.length>0&&i.modalElement.modal("show");i.pageSubmitBtn!=null&&i.pageSubmitBtn.length>0&&i.pageSubmitBtn.remove();i.breadcrumbs!=null&&i.breadcrumbs.length>0&&i.breadcrumbs.hide();t("form").prop("disabled",!0).on("submit",i.reloadPage)},i.reloadPage=function(n){n.preventDefault();window.location.reload()},i.returnToPreviousPage=function(){window.onbeforeunload=null;n.EventBus.publish("page/wait");window.history.forward();setTimeout(function(){window.history.back()},2e3)},i.resetBooking=function(){n.EventBus.publish("page/wait");t.ajax({url:i.url,type:"POST",success:i.redirectPage})},i.redirectPage=function(){window.onbeforeunload=null;window.location=i.actionUrl;return},i}}(nca,jQuery),function(n,t){"use strict";n.Class.barHeaderAccordion=function(){var n=this;return n.accordionId="",n.accordion={},n.linkClass="",n.link=[],n.accordionContainerClass="",n.accordionContainer=[],n.onReady=function(){n.createJqueryObjects();n.bindEvents()},n.createJqueryObjects=function(){n.accordion=t("#"+n.accordionId);n.link=t("."+n.linkClass);n.accordionContainer=t("."+n.accordionContainerClass)},n.bindEvents=function(){n.accordion.on("hide.bs.collapse",function(t){n.toggleAccordion(t)});n.accordion.on("show.bs.collapse",function(t){n.toggleAccordion(t)});n.link.on("click",n.handleClick)},n.handleClick=function(){var f,r,i,u;if(n.link.length!=0&&n.accordionContainer.length!=0)for(f=t(this),r=n.link.index(f),n.accordionContainer.eq(r).collapse("toggle"),i=0;i<n.accordionContainer.length;i++)i!=r&&(u=n.accordionContainer.eq(i),u.is(":visible")&&u.collapse("hide"))},n.toggleAccordion=function(n){var r=n.target.parentElement,i;r!=null&&r!=undefined&&(i=t(r).find(".collapse-header"),i.hasClass("openbar")?(i.removeClass("openbar"),i.addClass("hidebar")):(i.removeClass("hidebar"),i.addClass("openbar")))},n}}(nca,jQuery),function(n,t){"use strict";n.Class.combineThreeSplitPhoneNumber=function(){var n=this;return n.countryCodeId="",n.areaCodeId="",n.phoneNumberId="",n.hiddenCompletePhoneNumberId="",n.selectPickerClass="",n.countryCode=[],n.areaCode=[],n.phoneNumber=[],n.hiddenCompletePhoneNumber=[],n.selectPicker=[],n.refreshSelectPicker=!1,n.onReady=function(){n.createJQueryObjects();n.populateInitialValues();n.bindEvents()},n.createJQueryObjects=function(){n.countryCodeId&&(n.countryCode=t("#"+n.countryCodeId));n.areaCodeId&&(n.areaCode=t("#"+n.areaCodeId));n.phoneNumberId&&(n.phoneNumber=t("#"+n.phoneNumberId));n.hiddenCompletePhoneNumberId&&(n.hiddenCompletePhoneNumber=t("#"+n.hiddenCompletePhoneNumberId));n.selectPickerClass&&(n.selectPicker=t("."+n.selectPickerClass))},n.populateInitialValues=function(){if(n.hiddenCompletePhoneNumber.length){var i=n.hiddenCompletePhoneNumber.val(),t=i.split("-");t.length&&n.countryCode.length&&n.countryCode.val(t[0]);t.length>1&&n.areaCode.length&&n.areaCode.val(t[1]);t.length>2&&n.phoneNumber.length&&n.phoneNumber.val(t[2]);n.refreshSelectPicker&&n.selectPicker.length&&n.refreshDatePicker()}},n.bindEvents=function(){if(n.countryCode.length)n.countryCode.on("selectmenuchange",n.update);if(n.areaCode.length)n.areaCode.on("input",n.update);if(n.phoneNumber.length)n.phoneNumber.on("input",n.update)},n.update=function(){if(n.hiddenCompletePhoneNumber.length){var t=n.countryCode.length?n.countryCode.val():"",i=n.areaCode.length?n.areaCode.val():"",r=n.phoneNumber.length?n.phoneNumber.val():"";n.hiddenCompletePhoneNumber.val(t+"-"+i+"-"+r)}},n.refreshDatePicker=function(){n.selectPicker.data("uiSelectmenu")!=null&&t.isFunction(t.fn.selectmenu)&&n.selectPicker.selectmenu("destroy").selectmenu({style:"dropdown"})},n}}(nca,jQuery),function(n,t){"use strict";n.Class.confirmationModalProceed=function(){var i=this;return i.proceedButtonId="",i.proceedButton={},i.modalId="",i.modal={},i.url="",i.onReady=function(){i.proceedButton=t("#"+i.proceedButtonId);i.modal=t("#"+i.modalId);i.modal.on("click","#"+i.proceedButtonId,i.proceedAction)},i.proceedAction=function(){n.EventBus.publish("page/wait");window.location=i.url},i}}(nca,jQuery),function(n,t){"use strict";n.Class.tooltip=function(){var n=this;return n.tooltipTriggerClass="",n.tooltipTrigger=null,n.tooltipContentClass="",n.tooltipContent=null,n.tooltipPlacement="",n.onReady=function(){n.tooltipTriggerClass!=""&&n.tooltipContentClass!=""&&t("."+n.tooltipTriggerClass).tooltip({html:!0,title:function(){return t(this).siblings("."+n.tooltipContentClass).html()},placement:function(n,i){var r=t(i).data("placement");return r!=undefined?r:"top"}})},n}}(nca,jQuery),function(n,t){"use strict";n.Class.popover=function(){var n=this;return n.tooltipTriggerClass="",n.tooltipTrigger=null,n.tooltipContentClass="",n.tooltipContent=null,n.tooltipPlacement="",n.onReady=function(){n.html=t("html");n.html.on("click",n.hidePopover);if(n.tooltipTriggerClass!=""&&n.tooltipContentClass!="")t("."+n.tooltipTriggerClass).popover({html:!0,title:function(){return t(this).siblings("."+n.tooltipContentClass).html()},placement:function(n,i){var r=t(i).data("placement");return r!=undefined?r:"top"}}).on("click",n.onClick)},n.onClick=function(i){t("."+n.tooltipTriggerClass).not(this).popover("hide");i.stopPropagation()},n.hidePopover=function(){t("."+n.tooltipTriggerClass).popover("hide")},n}}(nca,jQuery)