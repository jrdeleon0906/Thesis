(function(n){n.fn.extend({tabify:function(t){function i(t){return hash=n(t).find("a").attr("href"),hash=hash.substring(0,hash.length-4)}function r(t){n(t).addClass("active");n(i(t)).show();n(t).siblings("li").each(function(){n(this).removeClass("active");n(i(this)).hide()})}return this.each(function(){function f(){location.hash&&n(u).find("a[href="+location.hash+"]").length>0&&r(n(u).find("a[href="+location.hash+"]").parent())}var u=this,e={ul:n(u)};n(this).find("li a").each(function(){n(this).attr("href",n(this).attr("href")+"-tab")});location.hash&&f();setInterval(f,100);n(this).find("li").each(function(){n(this).hasClass("active")?n(i(this)).show():n(i(this)).hide()});t&&t(e)})}})})(jQuery),function(n,t){"use strict";n.Class.cultureToggle=function(){var n=this;return n.currentCultureId="",n.currentCulture={},n.otherCulturesId="",n.otherCultures={},n.onReady=function(){n.currentCulture=t("#"+n.currentCultureId);n.otherCultures=t("#"+n.otherCulturesId);n.currentCulture.on("click",n.toggleOtherCultures);n.otherCultures.on("mouseleave",n.toggleOtherCultures)},n.toggleOtherCultures=function(){n.otherCultures.slideToggle()},n}}(nca,jQuery),function(n,t){"use strict";n.Class.userInfoOptionsToggle=function(){var n=this;return n.userInfoId="",n.userInfo={},n.userInfoOptionsId="",n.userInfoOptions={},n.onReady=function(){n.userInfo=t("#"+n.userInfoId);n.userInfoOptions=t("#"+n.userInfoOptionsId);n.userInfo.on("click",n.showOptions);n.userInfoOptions.on("mouseleave",n.hideOptions)},n.showOptions=function(){n.userInfoOptions.slideToggle()},n.hideOptions=function(){n.userInfoOptions.slideToggle()},n}}(nca,jQuery),function(n){var o={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:""},i=n(window),s=n(document),r=[],f=i.height(),t=function(){for(var e=i.scrollTop(),h=s.height(),c=h-f,l=e>c?c-e:0,u,o=0;o<r.length;o++){var t=r[o],a=t.stickyWrapper.offset().top,v=a-t.topSpacing-l;e<=v?t.currentTop!==null&&(t.stickyElement.css("position","").css("top",""),t.stickyElement.parent().removeClass(t.className),t.currentTop=null):(u=h-t.stickyElement.outerHeight()-t.topSpacing-t.bottomSpacing-e-l,u=u<0?u+t.topSpacing:t.topSpacing,t.currentTop!=u&&(t.stickyElement.css("position","fixed").css("top",u),typeof t.getWidthFrom!="undefined"&&t.stickyElement.css("width",n(t.getWidthFrom).width()),t.stickyElement.parent().addClass(t.className),t.currentTop=u))}},e=function(){f=i.height()},u={init:function(t){var i=n.extend(o,t);return this.each(function(){var t=n(this),f=t.attr("id"),e=n("<div><\/div>").attr("id",f+"-sticky-wrapper").addClass(i.wrapperClassName),u;t.wrapAll(e);i.center&&t.parent().css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"});t.css("float")=="right"&&t.css({float:"none"}).parent().css({float:"right"});u=t.parent();u.css("height",t.outerHeight());r.push({topSpacing:i.topSpacing,bottomSpacing:i.bottomSpacing,stickyElement:t,currentTop:null,stickyWrapper:u,className:i.className,getWidthFrom:i.getWidthFrom})})},update:t};window.addEventListener?(window.addEventListener("scroll",t,!1),window.addEventListener("resize",e,!1)):window.attachEvent&&(window.attachEvent("onscroll",t),window.attachEvent("onresize",e));n.fn.sticky=function(t){if(u[t])return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.sticky");else return u.init.apply(this,arguments)};n(function(){setTimeout(t,0)})}(jQuery),function(n,t){"use strict";n.Class.pricedisplayFareCollapse=function(){var n=this;return n.toggleBarsClass="",n.toggleBars={},n.toggleContainersClass="",n.hideBarClass="",n.openBarClass="",n.journeyFareContainerClass="",n.journeyFareContainer={},n.accordionUrl="",n.onReady=function(){n.journeyFareContainer=t("."+n.journeyFareContainerClass);n.toggleBars=n.journeyFareContainer.find("."+n.toggleBarsClass);n.initializeToggleBars()},n.initializeToggleBars=function(){var t,i,r;if(n.toggleBars!=null&&n.toggleBars.length>0){for(t=0;t<n.toggleBars.length;t++)i=n.toggleBars.eq(t),r=i.next("."+n.toggleContainersClass),r.length>0&&r.children().length==0&&i.removeClass(n.openBarClass).removeClass(n.hideBarClass);n.toggleBars.unbind("click").on("click",n.toggleContainerEvent)}},n.toggleContainerEvent=function(i){i.preventDefault();i.stopPropagation();var r=t(this),u=r.next("."+n.toggleContainersClass),e=!1,o="",h=t("."+n.journeyFareContainerClass+":visible").find("."+n.toggleBarsClass).index(r),s=t("."+n.journeyFareContainerClass+":hidden").find("."+n.toggleBarsClass+":hidden").eq(h),f=s.next("."+n.toggleContainersClass);u.children().length>0&&(u.hasClass("hidden")?(u.removeClass("hidden").slideDown({duration:500,progress:function(){n.adjustDisplay(u)}}),f.removeClass("hidden").slideDown({duration:500,progress:function(){n.adjustDisplay(f)}}),e=!0):(u.addClass("hidden").slideToggle({duration:500,progress:function(){n.adjustDisplay(u)}}),f.addClass("hidden").slideToggle({duration:500,progress:function(){n.adjustDisplay(f)}}),e=!1),r.hasClass(n.hideBarClass)?(r.removeClass(n.hideBarClass).addClass(n.openBarClass),s.removeClass(n.hideBarClass).addClass(n.openBarClass),r.attr("aria-expanded","false"),o=n.openBarClass):(r.removeClass(n.openBarClass).addClass(n.hideBarClass),s.removeClass(n.openBarClass).addClass(n.hideBarClass),r.attr("aria-expanded","true"),o=n.hideBarClass));n.accordionUrl!=""&&t.ajax({url:n.accordionUrl,data:{o:e,a:o,j:h},type:"GET"})},n.adjustDisplay=function(n){typeof n.sticky=="function"&&n.sticky("update")!==null&&n.sticky("update")},n}}(nca,jQuery),function(n,t){"use strict";n.Class.checkbox=function(){var n=this;return n.checkboxClass="square-checkbox",n.checkbox=[],n.areaClass="",n.area=[],n.onReady=function(){n.createJqueryObjects();n.bindEvents()},n.createJqueryObjects=function(){n.areaClass&&n.areaClass.length>0&&(n.area=t("."+n.areaClass))},n.bindEvents=function(){t(window).on("load",n.initializeFocus);if(n.areaClass&&n.areaClass.length>0)n.area.on("click",n.triggerClick)},n.initializeFocus=function(){if(n.checkboxClass&&n.checkboxClass.length>0&&(n.checkbox=t("."+n.checkboxClass),n.checkbox&&n.checkbox.length>0)){n.checkbox.on("ifToggled",n.updateAria);n.checkbox.parent().attr("tabindex",0).on("keydown",n.handleCheckboxKeyboardEvents);n.checkbox.attr("tabindex",-1)}},n.updateAria=function(){var n=t(this);n.is(":checked")?(n.parent().attr("aria-selected","true"),n.attr("aria-checked",!0)):(n.parent().attr("aria-selected","false"),n.attr("aria-checked",!1))},n.handleCheckboxKeyboardEvents=function(n){if(n.keyCode==32||n.keyCode==13){var i=t(this).find("input");i.attr("disabled")||(i.is(":checked")?i.iCheck("uncheck"):i.iCheck("check"));i.focus()}},n.triggerClick=function(){var i=t(this),n=i.find(".iCheck-helper");return n.length>0&&n.trigger("click"),!1},n}}(nca,jQuery),function(n,t){"use strict";n.Class.selectPicker=function(){var i=this;return i.dropdownElement="",i.dropdownSelector="",i.nativeDropdownElement="",i.checkboxId="",i.dropdown={},i.defDropdown={},i.nativeDropdown={},i.checkbox={},i.isForMobile=!1,i.isMember=!1,i.isCheck=!1,i.travellingSelectPickerClass="travellingSelectPicker",i.onReady=function(){i.dropdown=t(i.dropdownElement);i.defDropdown=t(i.dropdownSelector);i.nativeDropdown=t(i.nativeDropdownElement);i.isMember&&(i.checkbox=t("#"+i.checkboxId));i.defDropdown.css("width")=="0px"&&i.defDropdown.css("width","100%");i.defDropdown.selectmenu({change:function(n,t){i.triggerBlur(n,t)}});i.init();i.bindEvents();i.addWCAGLabel();t("body").hasClass("ignore-color")&&i.replaceIconForHighContrast()},i.init=function(){i.nativeDropdown.length===0&&i.initializeDropdownFontStyle(i.defDropdown,!1);i.isForMobile&&i.initializeDropdownFontStyle(i.nativeDropdown,!0)},i.refresh=function(){i.defDropdown=t("."+i.travellingSelectPickerClass);i.init()},i.bindEvents=function(){if(i.isMember)i.checkbox.on("ifChanged",i.check);if(n.EventBus.subscribe("iamTraveller/refreshDate",i.refresh),i.nativeDropdown.length===0)i.defDropdown.on("selectmenuchange",i.changeFontStyle);if(i.isForMobile)i.nativeDropdown.on("change.editStyle",i.changeFontStyleForNative)},i.check=function(){i.isCheck=!i.isCheck},i.triggerBlur=function(n){var i="";n!=undefined&&n.target!=null&&(i=n.target.id,t("#"+i).trigger("blur"))},i.initializeDropdownFontStyle=function(n,t){for(var u,r=0;r<n.length;r++)u=n[r].id,t?i.changeFontStyleForNative(u):i.changeFontStyle(u)},i.changeFontStyleForNative=function(n){var r=null,i;r=this.id==null?n:this.id;i=t("#"+r);i.val()===""?i.css("font-style","italic"):i.css("font-style","normal")},i.changeFontStyle=function(n){var r=null,o=null,u,f,e;r=this.id==null?n:this.id;o=r;u=t("#"+r+"-button > span.ui-selectmenu-text");r.indexOf(!1)&&(r+="-menu");f=t("#"+r).attr("aria-activedescendant");e=t("#"+r+"> li")[0];e!=null&&f!=null?e.id!=f?u.css("font-style","normal"):u.css("font-style","italic"):(e=t("#"+o+" > option").first().val(),f=t("#"+o+" > option:selected").val(),f!=null&&e!=f&&u.css("font-style","normal"));u!=null&&i.checbox!=null&&(i.isCheck?u.css("font-style","normal"):u.css("font-style","italic"))},i.addWCAGLabel=function(){for(var u=t(".ui-selectmenu-button[role='combobox']"),r,i,n=0;n<u.length;n++)r=u.eq(n),i=r.prev().attr("aria-label"),typeof i!="undefined"&&i.length>0&&r.attr("aria-label",i)},i.replaceIconForHighContrast=function(){var n=i.defDropdown.parent().find(".ui-icon-triangle-1-s"),t,r;if(n&&n.length>0)for(t=0;t<n.length;t++)r=n.eq(t),r.prev(".wcag-selectpicker-icon").length<1&&(r.before("<p class='wcag-selectpicker-icon'>v<\/p>"),r.hide())},i}}(nca,jQuery),function(n,t){"use strict";n.Class.localTime=function(){var i=this;return i.dateUtc=[],i.defaultDateTimeJsFormat="ddd, DD MMM YYYY",i.onReady=function(){i.createJqueryObjects();i.bindEvents();i.init()},i.convertUtcToLocal=function(n){var r=t(n),f=r.data("utcTime"),u=r.data("datetimeJsformat")||i.defaultDateTimeJsFormat;if(u)return moment.utc(f,"DD.MM.YYYY HH:mm").local().format(u)},i.createJqueryObjects=function(){i.dateUtc=t("*[data-utc-time]")},i.init=function(){var n,t;if(i.dateUtc&&i.dateUtc.length)for(n=0;n<i.dateUtc.length;n++)t=i.convertUtcToLocal(i.dateUtc.eq(n)),t&&i.dateUtc.eq(n).html(t)},i.update=function(){var n=t("table>tbody>tr>td>*[data-utc-time]"),r,u;if(n&&n.length)for(r=0;r<n.length;r++)u=i.convertUtcToLocal(n.eq(r)),u&&n.eq(r).html(u)},i.bindEvents=function(){n.EventBus.subscribe("table/initialize",i.update)},i}}(nca,jQuery),function(n,t){"use strict";n.Class.bookingReferenceNoTooltip=function(){var n=this;return n.tooltipSelector="",n.tooltipSelectorObj=[],n.tooltipContentClass="",n.tooltipImageClass="",n.tooltipPlacement="",n.document=t(document),n.onReady=function(){n.createJqueryObjects();n.bindEvents()},n.bindEvents=function(){if(n.tooltipSelectorObj.length){n.tooltipPlacement=n.tooltipPlacement||"top";n.tooltipSelectorObj.tooltip({trigger:"focus",html:!0,title:function(){return t(this).siblings("."+n.tooltipContentClass).html()},placement:n.tooltipPlacement});n.document.on("mouseup",n.closeCurrentTooltip)}},n.createJqueryObjects=function(){n.tooltipSelectorObj=t("."+n.tooltipSelector)},n.closeCurrentTooltip=function(i){if(t(i.target).hasClass(n.tooltipImageClass))return!1;n.tooltipSelectorObj.length&&t("[role='tooltip']").length>0&&n.tooltipSelectorObj.tooltip("hide")},n}}(nca,jQuery),function(n,t){"use strict";n.Class.toggleICheckbox=function(){var n=this;return n.iCheckboxClass="",n.iCheckbox={},n.containerToToggleId="",n.containerToToggle={},n.isContainerToTogglePerTab=!1,n.containerPerTabId="",n.onReady=function(){n.init();n.bindEvents()},n.init=function(){n.iCheckbox=t("."+n.iCheckboxClass);n.containerToToggle=t("#"+n.containerToToggleId);for(var i=0;i<n.iCheckbox.length;i++)n.toggleContainer(null,n.iCheckbox.eq(i))},n.bindEvents=function(){n.iCheckbox.on("ifToggled",n.toggleContainer)},n.toggleContainer=function(i,r){var e=r?r:t(this),f,u;if(n.isContainerToTogglePerTab&&(n.containerToToggle=t("#"+n.containerToToggleId+e.attr(n.containerPerTabId))),f=n.containerToToggle.find(":input"),e.is(":checked")){if(n.containerToToggle.show(),f.length>0)for(u=0;u<f.length;u++)f.eq(u).removeAttr("disabled")}else if(n.containerToToggle.hide(),f.length>0)for(u=0;u<f.length;u++)f.eq(u).attr("disabled","disabled"),f.eq(u).attr("type")!="hidden"&&f.eq(u).val("")},n}}(nca,jQuery)